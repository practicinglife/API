<Window x:Class="CwAssetManager.App.Views.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        mc:Ignorable="d"
        Title="{Binding Title}"
        Height="768" Width="1280"
        MinHeight="600" MinWidth="900"
        Background="{StaticResource BackgroundBrush}">
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="220"/>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>

        <!-- Sidebar navigation -->
        <Border Grid.Column="0" Background="{StaticResource PrimaryBrush}">
            <DockPanel>
                <!-- Logo / title -->
                <Border DockPanel.Dock="Top" Padding="16,20,16,12">
                    <StackPanel>
                        <TextBlock Text="CW Asset Manager"
                                   Foreground="White" FontSize="16" FontWeight="Bold"
                                   TextWrapping="Wrap"/>
                        <TextBlock Text="v1.0" Foreground="#8AAAC8" FontSize="11" Margin="0,2,0,0"/>
                    </StackPanel>
                </Border>

                <!-- Provider status strip -->
                <Border DockPanel.Dock="Bottom" Padding="12" Background="#12294A">
                    <StackPanel>
                        <TextBlock Text="Provider Status" Foreground="#8AAAC8" FontSize="11" Margin="0,0,0,6"/>
                        <StackPanel Orientation="Horizontal" Margin="0,2">
                            <Ellipse Width="8" Height="8" Margin="0,0,6,0"
                                     Fill="{Binding ManageStatus.CircuitStateColour}"/>
                            <TextBlock Text="Manage" Foreground="White" FontSize="11"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,2">
                            <Ellipse Width="8" Height="8" Margin="0,0,6,0"
                                     Fill="{Binding ControlStatus.CircuitStateColour}"/>
                            <TextBlock Text="Control" Foreground="White" FontSize="11"/>
                        </StackPanel>
                        <StackPanel Orientation="Horizontal" Margin="0,2">
                            <Ellipse Width="8" Height="8" Margin="0,0,6,0"
                                     Fill="{Binding RmmStatus.CircuitStateColour}"/>
                            <TextBlock Text="RMM" Foreground="White" FontSize="11"/>
                        </StackPanel>
                    </StackPanel>
                </Border>

                <!-- Nav buttons -->
                <StackPanel DockPanel.Dock="Top" Margin="0,8">
                    <Button Content="ðŸ“Š  Dashboard"     Style="{StaticResource NavButtonStyle}"
                            Command="{Binding NavigateToDashboardCommand}"/>
                    <Button Content="ðŸ’»  Assets"        Style="{StaticResource NavButtonStyle}"
                            Command="{Binding NavigateToAssetsCommand}"/>
                    <Button Content="ðŸ“‹  Request Log"   Style="{StaticResource NavButtonStyle}"
                            Command="{Binding NavigateToRequestLogCommand}"/>
                    <Button Content="âš™  Configuration" Style="{StaticResource NavButtonStyle}"
                            Command="{Binding NavigateToConfigurationCommand}"/>

                    <Separator Background="#2A4F7F" Margin="12,12"/>

                    <Button Content="{Binding IsIngesting, Converter={x:Static converters:BoolToStringConverter.Instance},
                                ConverterParameter='Stop Ingestion|â–¶ Run Ingestion'}"
                            Style="{StaticResource NavButtonStyle}"
                            Command="{Binding RunIngestionCommand}"/>
                    <Button Content="â¸ Pause"  Style="{StaticResource NavButtonStyle}"
                            Command="{Binding PauseIngestionCommand}"/>
                    <Button Content="â–¶ Resume" Style="{StaticResource NavButtonStyle}"
                            Command="{Binding ResumeIngestionCommand}"/>
                </StackPanel>
            </DockPanel>
        </Border>

        <!-- Main content -->
        <DockPanel Grid.Column="1">
            <!-- Status bar -->
            <Border DockPanel.Dock="Bottom" Background="#E0E0E0" Padding="8,4">
                <TextBlock Text="{Binding StatusMessage}"
                           Foreground="{StaticResource TextSecondaryBrush}" FontSize="12"/>
            </Border>

            <!-- Content area -->
            <ContentControl Name="ContentArea" Content="{Binding CurrentView}"
                            Margin="0"/>
        </DockPanel>
    </Grid>
</Window>
